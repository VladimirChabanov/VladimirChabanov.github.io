[TOC]

#### <span>33</span>. Одномерный динамический массив (возврат)

<div id="testing" style="background-size: 40px 40px; background-image: -moz-linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); background-image: -webkit-linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); background-image: linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); box-shadow: 0 0 8px rgba(0,0,0,.3); width: 100%; margin: 0 auto; padding:15px; background-color: #4ea5cd; border-left:7px #3b8eb5 solid;">
<a href="#" style="text-decoration: none; font:16px 'Open Sans'; font-weight:600; color:#f4f0fc;">Ссылка для тренировки</a> (скоро)
</div>


***С++***

> Эта задача на отработку навыка работы с сырыми указателями, поэтому использовать ссылки или заворачивать указатели в структуры/классы нельзя.

Реализуйте функцию `create` создающую и инициализирующую одномерный динамический массив целых чисел. Функция должна удовлетворять требованиям:

1. Функция принимает 3 параметра: длину массива, и два числа: начальный член и шаг арифметической прогрессии. При этом второй и третий параметры имеют значений по умолчанию `0`. Элементы созданного массива инициализируются арифметической прогрессией, при этом нулевой член массива равен начальному члену.
2. Функция возвращает созданный динамический массив (нужно подумать как именно это сделать);

Реализуйте функцию `sort` сортирующую одномерный массив целых чисел по возрастанию. Функция должна удовлетворять требованиям:

1. Функция принимает 2 параметра: массив и размер массива;
2. Функция возвращает отсортированный массив. Это тот же массива, что и передали, то есть функция модифицирует переданный массив.
3. Метод сортировки: сортировка вставками (insertion sort);

Реализуйте функцию `print` отображающую элементы одномерного массива на экран. Функция должна удовлетворять требованиям:

1. Функция принимает 2 параметра: массив и размер массива;
2. Функция возвращает переданный ей массив;

Используя созданные функции выполните следующие действия:

1. Запросите у пользователя 3 числа: длину массива, начальный член и шаг арифметической прогрессии;
2. Создайте массив;
3. Отсортируйте массив;
4. Выведите массив на экран;
5. Освободите память занимаемую массивом;

***Python***

По аналогии с заданием для **С++** реализуйте 3 функции: `create`, `sort`, `print`. В последние две функции можно не передавать параметр - размер списка.

Используя созданные функции выполните следующие действия:

1. Запросите у пользователя 3 числа: длину массива, начальный член и шаг арифметической прогрессии;
2. Создайте список;
3. Отсортируйте список;
4. Выведите список на экран;

**Формат ввода**  
Три целых числа, каждое на новой строке. Первое число в диапазоне $[1...10000]$, второе и третье $[-10000...10000]$.

**Формат вывода**  
Отсортированный по возрастанию массив $a_i$ в формате: $[a_0,\,a_1,\,a_2...a_n]$.

**Пример 1**

<table>
<thead><tr><td width="50%"><b>Ввод</b></td><td width="50%"><b>Вывод</b></td></tr></thead>
<tr><td valign="top">8<br>3<br>-4</td><td valign="top">[-25, -21, -17, -13, -9, -5, -1, 3]</td></tr>
</table>

**Пример 2**

<table>
<thead><tr><td width="50%"><b>Ввод</b></td><td width="50%"><b>Вывод</b></td></tr></thead>
<tr><td valign="top">8<br>3<br>0</td><td valign="top">[3, 3, 3, 3, 3, 3, 3, 3]</td></tr>
</table>



#### <span>34</span>. Одномерный динамический массив (выходной параметр)

<div id="testing" style="background-size: 40px 40px; background-image: -moz-linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); background-image: -webkit-linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); background-image: linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); box-shadow: 0 0 8px rgba(0,0,0,.3); width: 100%; margin: 0 auto; padding:15px; background-color: #4ea5cd; border-left:7px #3b8eb5 solid;">
<a href="#" style="text-decoration: none; font:16px 'Open Sans'; font-weight:600; color:#f4f0fc;">Ссылка для тренировки</a> (скоро)
</div>

***С++***

> Эта задача на отработку навыка работы с сырыми указателями, поэтому использовать ссылки или заворачивать указатели в структуры/классы нельзя.

Реализуйте функцию `create` создающую и инициализирующую одномерный динамический массив целых чисел. Функция должна удовлетворять требованиям:

1. Функция принимает 4 параметра: 
   - первый параметр используется как выходной. То есть, вызывающая функция передаёт первым параметром переменную, которая после работы функции `create` должна быть связана с созданным в ней массивом. Нужно придумать как.
   - оставшиеся 3 параметра - длина массива, и два числа: начальный член и шаг арифметической прогрессии. При этом третий и четвертый параметры имеют значений по умолчанию `0`. Элементы созданного массива инициализируются арифметической прогрессией, при этом нулевой член массива равен начальному члену.
2. Функция ничего не возвращает.

Реализуйте функцию `destroy` освобождающую память занятую массивом. Функция должна удовлетворять требованиям:

1. Функция принимает один параметр. Он используется как выходной. Вызывающая функция подставляет в этот параметр переменную связанную с массивом который требуется удалить.
2. После работы функции память занятая массивом освобождается. Переменная переданная в качестве параметра устанавливается в `nullptr`. Если переменная изначально была `nullptr`, то функция ничего не делает.
3. Функция ничего не возвращает.

Используя созданные функции и функции `sort` и `print` из задания 33 выполните следующие действия:

1. Запросите у пользователя 3 числа: длину массива, начальный член и шаг арифметической прогрессии;
2. Создайте массив;
3. Отсортируйте массив;
4. Выведите массив на экран;
5. Освободите память занимаемую массивом;

**Формат ввода**  
Три целых числа, каждое на новой строке. Первое число в диапазоне $[1...10000]$, второе и третье $[-10000...10000]$.

**Формат вывода**  
Отсортированный по возрастанию массив $a_i$ в формате: $[a_0,\,a_1,\,a_2...a_n]$.

**Пример 1**

<table>
<thead><tr><td width="50%"><b>Ввод</b></td><td width="50%"><b>Вывод</b></td></tr></thead>
<tr><td valign="top">8<br>3<br>-4</td><td valign="top">[-25, -21, -17, -13, -9, -5, -1, 3]</td></tr>
</table>

**Пример 2**

<table>
<thead><tr><td width="50%"><b>Ввод</b></td><td width="50%"><b>Вывод</b></td></tr></thead>
<tr><td valign="top">8<br>3<br>0</td><td valign="top">[3, 3, 3, 3, 3, 3, 3, 3]</td></tr>
</table>



#### <span>35</span>. Структура — массив целых чисел

<div id="testing" style="background-size: 40px 40px; background-image: -moz-linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); background-image: -webkit-linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); background-image: linear-gradient(135deg, rgba(255, 255, 255, .05) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .05) 50%, rgba(255, 255, 255, .05) 75%, transparent 75%, transparent); box-shadow: 0 0 8px rgba(0,0,0,.3); width: 100%; margin: 0 auto; padding:15px; background-color: #4ea5cd; border-left:7px #3b8eb5 solid;">
<a href="#" style="text-decoration: none; font:16px 'Open Sans'; font-weight:600; color:#f4f0fc;">Ссылка для тренировки</a> (скоро)
</div>

***С++***

Дана структура вида:

```c++
struct IntArray {
  int *data;
  int size;
};
```

`data` — массив целых чисел размером `size`.

Реализуйте набор функций, для работы с переменными типа `IntArray`.

Прототипы:

```c++
/** Создаёт динамический массив размера size и сохраняет его в поле data переменной arr. Поле size структуры arr становится равным параметру size */
void create(IntArray* arr, int size);
void create(IntArray& arr, int size);
/** Возвращает элемент массива с индексом index, при этом проверяет выход за границы массива. Если index лежит за пределами массива, вывести сообщение об ошибке и прервать работу программы */
int get(IntArray* arr, int index);
int get(IntArray& arr, int index);
/** Изменяет значение элемента массива с индексом index на значение параметра value, при этом проверяет выход за границы массива. Если index лежит за пределами массива, вывести сообщение об ошибке и прервать работу программы */
void set(IntArray* arr, int index, int value);
void set(IntArray& arr, int index, int value);
/** Выводит на экран содержимое массива в формате: [1, 2, 3] */
void print(IntArray* arr);
void print(IntArray& arr);
/** Изменяет размер массива с сохранением элементов. Если новый размер меньше, хвостовые элементы обрезаются, если больше, то дополнительные элементы инициализируются нулём */
void resize(IntArray* arr, int newSize);
void resize(IntArray& arr, int newSize);
/** Освобождает память занятую массивом. Поле data становится равным nullptr, поле size становится равным нулю. Предусмотреть случай попытки удаления уже удалённого массива */
void destroy(IntArray* arr);
void destroy(IntArray& arr);
```

Используя созданную вами структуру и набор функций выполните следующие действия:

1. Создайте массив ( `IntArray` ) размером 30 элементов;
2. Заполните элементы массива значениями от 1 до 30;
3. Распечатайте значения массива на экран;
4. Измените размер массива на 50;
5. Распечатайте значения массива на экран;
6. Установите размер массива 10;
7. Освободите память занятую массивом.

**Формат ввода**  
Ввода нет.

**Формат вывода**  
Согласно заданию.

**Пример 1**

<table>
<thead><tr><td width="50%"><b>Ввод</b></td><td width="50%"><b>Вывод</b></td></tr></thead>
<tr><td valign="top">8<br>3<br>-4</td><td valign="top">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]<br>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]<br>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</td></tr>
</table>